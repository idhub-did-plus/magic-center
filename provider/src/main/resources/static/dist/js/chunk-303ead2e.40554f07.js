(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-303ead2e"],{"0c6e":function(t,e,s){"use strict";var i=s("898c"),n=s.n(i);n.a},"28db":function(t,e,s){"use strict";var i=s("5e2c"),n=s.n(i);n.a},4661:function(t,e,s){},5964:function(t,e,s){t.exports=s.p+"img/page.f7264e53.png"},"5e2c":function(t,e,s){},"6f1d":function(t,e,s){},7321:function(t,e,s){},"898c":function(t,e,s){},c918:function(t,e,s){"use strict";var i=s("7321"),n=s.n(i);n.a},e425:function(t,e,s){"use strict";var i=s("4661"),n=s.n(i);n.a},f549:function(t,e,s){"use strict";var i=s("6f1d"),n=s.n(i);n.a},fc94:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("Nav"),s("div",{staticClass:"page-header"},[s("h1",[t._v(t._s(t.$t("m.userinfo.title")))])]),s("Left",{ref:"brother",attrs:{id:t.id,identity:t.identity,claimType:t.claimType,processingMsg:t.msg}}),s("Right",{attrs:{orderId:t.orderId,processingMsg:t.msg,claimType:t.claimType,identity:t.identity}})],1)},n=[];function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("div",{attrs:{id:"box"}},[s("div",{attrs:{id:"top"}}),s("div",{attrs:{id:"bottom"}},[s("div",{attrs:{id:"msg"}},[t.processingMsg?s("div",{attrs:{id:"username"}},[t._v("\n                    "+t._s(t.processingMsg.archive.identityInfo.name.firstName)+"\n                    "+t._s(t.processingMsg.archive.identityInfo.name.middleName)+"\n                    "+t._s(t.processingMsg.archive.identityInfo.name.lastName)+"\n                ")]):s("div",{attrs:{id:"username"}}),s("span",[t._v(t._s(t.claimType))]),s("br"),s("span",[t._v(t._s(t.identity))])])]),t._m(0)]),s("div",{staticClass:"info",attrs:{id:"textInfo"}},[t.processingMsg?s("ul",[s("li",{staticStyle:{"margin-top":"20px"}},[s("span",[t._v(t._s(t.$t("m.userinfo.birthday")))]),t._v(t._s(t.processingMsg.archive.identityInfo.birthday))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.country")))]),t._v(t._s(t.processingMsg.archive.identityInfo.country))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.residenceCountry")))]),t._v(t._s(t.processingMsg.archive.identityInfo.residenceCountry))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.idcardNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.idcardNumber))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.passportNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.passportNumber))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.phoneNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.phoneNumber))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.gender")))]),t._v(t._s(t.processingMsg.archive.identityInfo.gender))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.email")))]),t._v(t._s(t.processingMsg.archive.basicInfo.email))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.taxId")))]),t._v(t._s(t.processingMsg.archive.basicInfo.taxId))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.ssn")))]),t._v(t._s(t.processingMsg.archive.basicInfo.ssn))]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.address")))]),t._l(t.processingMsg.archive.identityInfo.address.addressSequence,(function(e,i){return s("p",{key:i},[s("span",{staticClass:"address"},[t._v(t._s(e.name)+":")]),t._v(t._s(e.value)+"\n                ")])})),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.postalCode")))]),t._v(t._s(t.processingMsg.archive.identityInfo.address.postalCode))])],2),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.financialProfile")))]),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.buyer")))]),t._v(t._s(t.buyerType))]),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.investor")))]),t._v(t._s(t.investorType))])])]):s("ul",[s("li",{staticStyle:{"margin-top":"20px"}},[s("span",[t._v(t._s(t.$t("m.userinfo.birthday")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.country")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.residenceCountry")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.idcardNumber")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.passportNumber")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.phoneNumber")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.gender")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.email")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.taxId")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.ssn")))])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.address")))]),t._m(1),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.postalCode")))])])]),s("li",[s("span",[t._v(t._s(t.$t("m.userinfo.financialProfile")))]),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.buyer"))+":")])]),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.investor"))+":")])])])])]),s("div",{staticClass:"info",attrs:{id:"fileInfo"}},[s("ul",{ref:"ul1"},t._l(t.processingMsg.materials,(function(e,i){return s("li",{key:i,on:{click:function(e){return t.showFile(i)}}},[s("div",[t._m(2,!0),s("span",[t._v(t._s(e.type))])])])})),0)]),s("file",{attrs:{id:"file",message:t.processingMsg,userID:t.identity,item:t.fileIndex}})],1)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"img"}},[s("img",{attrs:{src:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3987282417,3624059467&fm=26&gp=0.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"address"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:s("5964"),alt:""}})])}],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("span",{attrs:{id:"close"},on:{click:t.close}},[t._v("X")])]),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"content"},[0!=t.item?s("ul",[s("li",[s("span",[t._v(t._s(t.$t("m.file.fileId"))+":")]),s("p",[t._v(t._s(t.message.materials[t.item].id))])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.userId"))+":")]),s("span",[t._v(t._s(t.userID))])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.type"))+"：")]),s("span",[t._v(t._s(t.message.materials[t.item].type))])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.name"))+"：")]),s("span",[t._v(t._s(t.message.materials[t.item].name))])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.ext"))+"：")]),s("span",[t._v(t._s(t.message.materials[t.item].ext))])])]):s("ul",[s("li",[s("span",[t._v(t._s(t.$t("m.file.fileId"))+":")])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.userId"))+":")])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.type"))+"：")])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.name"))+"：")])]),s("li",[s("span",[t._v(t._s(t.$t("m.file.ext"))+"：")])])])]),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.newPage}},[t._v(t._s(t.$t("m.file.newPage")))]),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.download}},[t._v(t._s(t.$t("m.file.download")))]),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.upload}},[t._v(t._s(t.$t("m.file.upload")))])])])])},d=[],u=s("867a"),p={data:function(){return{id:0,ext:""}},props:["state","message","userID","item"],methods:{newPage:function(){this.id=this.message.materials[this.item].id,this.ext=this.message.materials[this.item].ext;var t=this.$router.resolve({path:"/newPage",query:{materialId:this.id}}),e=t.href;window.open(e,"_blank")},upload:function(){},download:function(){var t=this.message.materials[this.item].id,e=this.message.materials[this.item].ext,s=new XMLHttpRequest;s.open("GET",u["a"].baseURL+"/order/material_stream?id="+this.id,!0),s.responseType="blob",s.onload=function(i){var n=s.response,a=document.createElement("a");a.download=t+"."+e,a.style.display="none";var r=new Blob([n]);a.href=URL.createObjectURL(r),document.body.appendChild(a),a.click(),document.body.removeChild(a)},s.send()},close:function(){document.getElementsByClassName("file")[0].style.display="none"}}},m=p,y=(s("e425"),s("4e82")),f=Object(y["a"])(m,c,d,!1,null,null,null),_=f.exports,v={data:function(){var t;return t={buyerType:"",investorType:"",fileIndex:0,financialProfile:""},a(t,"buyerType",""),a(t,"investorType",""),t},components:{file:_},props:["identity","claimType","processingMsg"],methods:{showFile:function(t){this.fileIndex=t,document.getElementById("file").style.display="block"}},watch:{processingMsg:function(t){this.financialProfile=t,null==this.financialProfile.archive.financialProfile?(this.buyerType=null,this.investorType=null):(this.buyerType=this.financialProfile.archive.financialProfile.buyerType,this.investorType=this.financialProfile.archive.financialProfile.investorType)}}},h=v,b=(s("28db"),Object(y["a"])(h,o,l,!1,null,null,null)),g=b.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right"},[s("div",{attrs:{id:"claimBox"}},[s("div",{attrs:{id:"header"}}),s("div",{attrs:{id:"content"}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.kyc}},[t._v(t._s(t.$t("m.right.state")))]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.kycState}},[t._v(t._s(t.$t("m.right.history")))]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.agree}},[t._v(t._s(t.$t("m.right.issue")))]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.refuse}},[t._v(t._s(t.$t("m.right.refuse")))])])]),s("popup",{attrs:{state:t.state,id:"son"}}),s("kycHistory",{attrs:{kycHistory:t.kycHistory,id:"history"}})],1)},C=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("span",[t._v("Kyc State")]),s("span",{attrs:{id:"close"},on:{click:t.close}},[t._v("X")])]),s("div",{staticClass:"panel-body"},[t._v("kyc")])])])},k=[],x={data:function(){return{kState:""}},props:["state"],methods:{close:function(){document.getElementsByClassName("popup")[0].style.display="none"}},watch:{state:function(t){this.kState=t,document.getElementsByClassName("panel-body")[0].innerHTML=this.kState}}},w=x,T=(s("0c6e"),Object(y["a"])(w,I,k,!1,null,null,null)),M=T.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"historyBox"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("span",[t._v("Kyc History")]),s("span",{attrs:{id:"closeHistory"},on:{click:t.close}},[t._v("X")])]),s("div",{staticClass:"panel-body"},[s("ul",t._l(t.kycHistory,(function(e,i){return s("li",{key:i},[t._v("\n                    "+t._s(e)+"\n                ")])})),0)])])])},E=[],N={props:["kycHistory"],methods:{close:function(){document.getElementsByClassName("historyBox")[0].style.display="none"}}},P=N,S=(s("f549"),Object(y["a"])(P,j,E,!1,null,null,null)),H=S.exports,B={components:{popup:M,kycHistory:H},data:function(){return{kycHistory:[],state:"",setClaimValue:[],nationality:"",residence:"",jurisdictions:"",account:"",cType:"",subAddr:""}},props:["orderId","processingMsg","claimType","identity"],mounted:function(){this.account=web3.eth.accounts[0]},watch:{processingMsg:function(t){this.setClaimValue=t,this.nationality=this.setClaimValue.archive.identityInfo.country,this.residence=this.setClaimValue.archive.identityInfo.residenceCountry,this.jurisdictions=null},claimType:function(t){this.cType=t},identity:function(t){this.subAddr=t}},methods:{kyc:function(){var t=this;this.$http.get(u["a"].baseURL+"/idm/evaluate",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success&&null==e.data.data&&alert(t.$t("m.right.check")),1==e.data.success&&null!=e.data.data&&(t.state=e.data.data,document.getElementById("son").style.display="block")}))},kycState:function(){var t=this;this.$http.get(u["a"].baseURL+"/order/interactions",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?(t.kycHistory=e.data.data,document.getElementById("history").style.display="block"):console.log(t.$t("m.alert.historyFail"))}))},agree:function(){var t=this;if("ST_Compliant_Investor"==this.cType){var e=[{constant:!1,inputs:[{name:"key",type:"bytes32"},{name:"value",type:"bytes32"}],name:"setSelfClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"subject",type:"address"},{name:"key",type:"bytes32"},{name:"value",type:"bytes32"}],name:"setClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"issuer",type:"address"},{name:"subject",type:"address"},{name:"key",type:"bytes32"}],name:"removeClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"issuer",type:"address"},{name:"subject",type:"address"},{name:"key",type:"bytes32"}],name:"getClaim",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"bytes32"}],name:"registry",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"issuer",type:"address"},{indexed:!0,name:"subject",type:"address"},{indexed:!0,name:"key",type:"bytes32"},{indexed:!1,name:"value",type:"bytes32"},{indexed:!1,name:"updatedAt",type:"uint256"}],name:"ClaimSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"issuer",type:"address"},{indexed:!0,name:"subject",type:"address"},{indexed:!0,name:"key",type:"bytes32"},{indexed:!1,name:"removedAt",type:"uint256"}],name:"ClaimRemoved",type:"event"}],s="0x3c5a44d263ABed6795D0Cb5ed5f7BC2E4337eeF6",i=web3.eth.contract(e),n=i.at(s);if(this.nationality){var a=this.subAddr,r=web3.sha3("nationality"),o="stCompliance-0.0.1-"+this.nationality,l=web3.sha3(o);n.setClaim.sendTransaction(a,r,l,{from:this.account},(function(t,e){t?console.log("nationality "+t):console.log("nationality "+e)}))}if(this.residence){a=this.subAddr,r=web3.sha3("residence"),o="stCompliance-0.0.1-"+this.residence,l=web3.sha3(o);n.setClaim.sendTransaction(a,r,l,{from:this.account},(function(t,e){t?console.log("residence "+t):console.log("residence "+e)}))}if(this.jurisdictions){a=this.subAddr,r=web3.sha3("jurisdictions"),o="stCompliance-0.0.1-"+this.jurisdictions,l=web3.sha3(o);n.setClaim.sendTransaction(a,r,l,{from:this.account},(function(t,e){t?console.log("jurisdictions "+t):console.log("jurisdictions "+e)}))}}this.$http.get(u["a"].baseURL+"/order/issue_claim",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?alert(t.$t("m.alert.issueSuccess")):alert(t.$t("m.alert.issueFail"))}))},refuse:function(){var t=this;this.$http.get(u["a"].baseURL+"/order/refuse_claim",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?alert(t.$t("m.alert.refuseSuccess")):alert(t.$t("m.alert.refuseFail"))}))}}},L=B,R=(s("c918"),Object(y["a"])(L,$,C,!1,null,null,null)),F=R.exports,A=s("ee8d"),O=(r={components:{Nav:A["a"]},data:function(){return{id:"",identity:"",claimType:"",orderId:"",msg:[]}}},a(r,"components",{Left:g,Right:F}),a(r,"mounted",(function(){var t=this;this.id=this.$route.query.id,this.identity=this.$route.query.identity,this.claimType=this.$route.query.claimType,this.orderId=this.$route.query.orderId,this.$http.get(u["a"].baseURL+"/order/identity_archive",{params:{identity:this.identity}}).then((function(e){1==e.data.success?t.msg=e.data.data.data:alert(t.$t("m.alert.userInfoFail"))}))})),r),U=O,q=Object(y["a"])(U,i,n,!1,null,null,null);e["default"]=q.exports}}]);
//# sourceMappingURL=chunk-303ead2e.40554f07.js.map